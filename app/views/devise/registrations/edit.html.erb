<% @title = t('.title', :resource => resource_class.model_name.human , :default => "Edit #{resource_name.to_s.humanize}") %>

<div class="row mt">
  <div class="col-lg-12">
    <div class="form-panel">
      <h4 class="mb"><i class="fa fa-angle-right"></i> <%= @title %></h4>
      <%= form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :method => :put, class: "form-horizontal style-form" }) do |f| %>
        <%= devise_error_messages! %>

        <div class="form-group">
          <%= f.label :username, class: "col-sm-2 col-sm-2 control-label" %>
          <div class="col-sm-10">
            <%= f.text_field :username, class: "form-control" %>
          </div>
        </div>

        <div class="form-group">
          <%= f.label :firstname, class: "col-sm-2 col-sm-2 control-label" %>
          <div class="col-sm-10">
            <%= f.text_field :firstname, class: "form-control" %>
          </div>
        </div>

        <div class="form-group">
          <%= f.label :name, class: "col-sm-2 col-sm-2 control-label" %>
          <div class="col-sm-10">
            <%= f.text_field :name, class: "form-control" %>
          </div>
        </div>

        <div class="form-group">
          <%= f.label :email, class: "col-sm-2 col-sm-2 control-label" %>
          <div class="col-sm-10">
            <%= f.email_field :email, class: "form-control" %>
          </div>
        </div>

        <%- if devise_mapping.confirmable? && resource.pending_reconfirmation? -%>
          <p>
            <%= t('.currently_waiting_confirmation_for_email', :email => resource.unconfirmed_email, :default => "Currently waiting confirmation for: %{email}") %>
          </p>
        <%- end -%>

        <div class="form-group">
            <%= f.label :password, class: "col-sm-2 col-sm-2 control-label" %> 
          <div class="col-sm-10">
            <%= f.password_field :password, class: "form-control", :autocomplete => "off" %>
            <span class="help-block"><i>(<%= t('.leave_blank_if_you_don_t_want_to_change_it', :default => "leave blank if you don't want to change it") %>)</i></span>
          </div>
        </div>

        <div class="form-group">
          <%= f.label :password_confirmation, class: "col-sm-2 col-sm-2 control-label" %>
          <div class="col-sm-10">
            <%= f.password_field :password_confirmation, class: "form-control" %>
          </div>
        </div>

        <% unless current_user.provider = "facebook" %>

          <div class="form-group">
            <%= f.label :current_password, class: "col-sm-2 col-sm-2 control-label" %> <i>(<%= t('.we_need_your_current_password_to_confirm_your_changes', :default => 'we need your current password to confirm your changes') %>)</i>
            <div class="col-sm-10">
              <%= f.password_field :current_password, class: "form-control" %>
            </div>
          </div>

        <% end %>

          <div><%= f.submit t('.update', :default => "Update") %></div>
        <% end %>

    </div>
  </div>
</div>

<div class="row mt">
  <div class="col-lg-12">
    <div class="form-panel">
      <h4 class="mb"><i class="fa fa-angle-right"></i> <%= t('.cancel_my_account', :default => 'Cancel my account') %></h4>

      <p><%= t('.unhappy', :default => 'Unhappy') %>? <%= link_to t('.cancel_my_account', :default => "Cancel your account"), registration_path(resource_name), :data => { :confirm => t('.are_you_sure', :default => "Are you sure?") }, :method => :delete %>.</p>
    </div>
  </div>
</div>
